<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>‡∏ö‡∏ó‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ó‡∏µ‡πà 3: ‡∏£‡∏´‡∏±‡∏™‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏° ‡πÅ‡∏•‡∏∞ ‡∏ï‡∏±‡∏ß‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Thai:wght@400;500;700&display=swap" rel="stylesheet">
  <style>
    body { font-family: 'Noto Sans Thai', sans-serif; }
    /* ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏•‡∏π‡∏Å‡πÄ‡∏•‡πà‡∏ô‡πÉ‡∏´‡πâ‡∏£‡∏π‡∏õ‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡∏£‡∏π */
    .teacher-img { transition: transform 0.3s ease; }
    .teacher-img:hover { transform: scale(1.1) rotate(-2deg); }
  </style>
</head>
<body class="bg-gray-100 flex flex-col h-screen">

<header class="bg-white shadow-md w-full">
  <div class="container mx-auto px-6 py-4 flex justify-between items-center">
    <div>
      <h2 class="text-xl font-semibold text-gray-700">‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏ó‡∏µ‡πà 2: Python</h2>
      <h1 class="text-2xl font-bold text-blue-800">‡πÇ‡∏°‡∏î‡∏π‡∏•‡∏ó‡∏µ‡πà 3: ‡∏£‡∏´‡∏±‡∏™‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏° ‡πÅ‡∏•‡∏∞ ‡∏ï‡∏±‡∏ß‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£</h1>
    </div>
    <a href="index.html" class="text-blue-600 hover:underline transition-colors">‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å</a>
  </div>
</header>

<main class="flex-1 container mx-auto px-6 py-6 flex flex-col md:flex-row gap-6 overflow-y-auto">

  <div class="w-full md:w-1/2 bg-white rounded-xl shadow-lg p-6">
    <h3 class="text-xl font-bold text-gray-800 mb-4">üé¨ 1. ‡∏î‡∏π‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠</h3>
    <div class="aspect-video bg-gray-800 rounded-lg mb-4 overflow-hidden shadow-sm">
      <div id="player"></div>
    </div>
    <div>
      <h4 class="font-semibold text-gray-700">‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏∑‡∏ö‡∏´‡∏ô‡πâ‡∏≤:</h4>
      <div class="w-full bg-gray-200 rounded-full h-2.5 mt-2 mb-1 overflow-hidden">
        <div id="progress-bar" class="bg-blue-600 h-2.5 rounded-full transition-all duration-500 ease-out" style="width: 0%"></div>
      </div>
      <div id="video-status" class="text-sm text-gray-500 transition-colors duration-300">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞: ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</div>
    </div>
  </div>

  <div class="w-full md:w-1/2 bg-white rounded-xl shadow-lg p-6 flex flex-col">

    <div class="flex items-start gap-4 mb-6">
      <img src="https://i.ibb.co/vvmFnzs5/2.png" alt="‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡∏£‡∏π" class="teacher-img rounded-full w-24 h-24 border-4 border-white shadow-md flex-shrink-0 bg-white object-cover cursor-pointer">
      <div class="relative bg-blue-50 border border-blue-200 p-4 rounded-xl shadow-sm mt-4 w-full hover:shadow-md transition-shadow">
        <div class="absolute left-0 top-1/2 -translate-x-full -translate-y-1/2 w-0 h-0 border-t-[10px] border-t-transparent border-r-[12px] border-r-blue-50 border-b-[10px] border-b-transparent" style="filter: drop-shadow(-1px 0px 1px rgba(0,0,0,0.05));"></div>
        <h3 class="text-xl font-bold text-gray-800 mb-2">‚úçÔ∏è 2. ‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à</h3>
        <p class="text-gray-700">
          <strong>‡πÇ‡∏à‡∏ó‡∏¢‡πå:</strong> ‡πÇ‡∏°‡∏î‡∏π‡∏•‡∏ô‡∏µ‡πâ‡πÄ‡∏ô‡πâ‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏≥‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏™‡∏±‡∏ç‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå‡∏ô‡∏∞‡∏Ñ‡∏£‡∏±‡∏ö... ‡∏•‡∏≠‡∏á‡∏ï‡∏≠‡∏ö‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏° 4 ‡∏Ç‡πâ‡∏≠‡∏ô‡∏µ‡πâ‡∏î‡∏π‡∏Ñ‡∏£‡∏±‡∏ö
        </p>
      </div>
    </div>

    <div class="space-y-4">
      <div>
        <label for="q1" class="block text-sm font-medium text-gray-700">1. ‡πÉ‡∏ô Python, <code class="bg-gray-200 p-1 rounded">7 // 2</code> (7 ‡∏™‡πÅ‡∏•‡∏ä-‡∏™‡πÅ‡∏•‡∏ä 2) ‡πÑ‡∏î‡πâ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡πÄ‡∏ó‡πà‡∏≤‡πÑ‡∏´‡∏£‡πà?</label>
        <input type="text" id="q1" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-2" placeholder="‡∏ï‡∏≠‡∏ö‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç...">
        <div id="q1-feedback" class="text-sm mt-1"></div>
      </div>
      <div>
        <label for="q2" class="block text-sm font-medium text-gray-700">2. ‡πÉ‡∏ô Python, <code class="bg-gray-200 p-1 rounded">7 % 2</code> (7 ‡πÄ‡∏õ‡∏≠‡∏£‡πå‡πÄ‡∏ã‡πá‡∏ô‡∏ï‡πå 2) ‡πÑ‡∏î‡πâ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡πÄ‡∏ó‡πà‡∏≤‡πÑ‡∏´‡∏£‡πà?</label>
        <input type="text" id="q2" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-2" placeholder="‡∏ï‡∏≠‡∏ö‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç...">
        <div id="q2-feedback" class="text-sm mt-1"></div>
      </div>
      <div>
        <label for="q3" class="block text-sm font-medium text-gray-700">3. ‡∏£‡∏´‡∏±‡∏™‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏° <code class="bg-gray-200 p-1 rounded">\n</code> (‡πÅ‡∏ö‡πá‡∏Å‡∏™‡πÅ‡∏•‡∏ä-‡πÄ‡∏≠‡πá‡∏ô) ‡πÉ‡∏ä‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£?</label>
        <input type="text" id="q3" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-2" placeholder="‡∏ï‡∏≠‡∏ö‡πÄ‡∏õ‡πá‡∏ô‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢ ‡∏´‡∏£‡∏∑‡∏≠ ‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©...">
        <div id="q3-feedback" class="text-sm mt-1"></div>
      </div>
      <div>
        <label for="q4" class="block text-sm font-medium text-gray-700">4. ‡∏£‡∏´‡∏±‡∏™‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• <code class="bg-gray-200 p-1 rounded">%d</code> ‡πÉ‡∏ä‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ä‡∏ô‡∏¥‡∏î‡πÉ‡∏î?</label>
        <input type="text" id="q4" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-2" placeholder="‡πÄ‡∏ä‡πà‡∏ô int, float, string...">
        <div id="q4-feedback" class="text-sm mt-1"></div>
      </div>
    </div>

    <div id="teacher-feedback" class="mt-6 flex items-start gap-4 hidden transition-all duration-500 ease-out transform translate-y-4 opacity-0">
      <img src="https://i.ibb.co/vvmFnzs5/2.png" alt="‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡∏£‡∏π" class="teacher-img rounded-full w-24 h-24 border-4 border-white shadow-md flex-shrink-0 bg-white object-cover cursor-pointer">
      <div id="teacher-bubble" class="relative bg-gray-100 p-4 rounded-xl shadow-sm mt-4 w-full">
        <div id="teacher-bubble-tail" class="absolute left-0 top-1/2 -translate-x-full -translate-y-1/2 w-0 h-0
                                border-t-[10px] border-t-transparent
                                border-r-[12px] border-r-gray-100
                                border-b-[10px] border-b-transparent"
             style="filter: drop-shadow(-1px 0px 1px rgba(0,0,0,0.05));">
        </div>
        <p id="teacher-message" class="text-gray-700"></p>
      </div>
    </div>

  </div>
</main>

<footer class="bg-white shadow-inner w-full p-4 mt-auto">
  <div class="container mx-auto px-6 flex justify-between items-center">
    <div id="submit-status" class="text-gray-500 font-medium transition-colors duration-300">
      ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏î‡∏π‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠‡πÉ‡∏´‡πâ‡∏à‡∏ö‡∏Å‡πà‡∏≠‡∏ô
    </div>
    <div>
      <button id="submit-btn" class="bg-blue-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-blue-700 transition-all disabled:bg-gray-300 disabled:cursor-not-allowed hover:shadow-lg active:scale-95 disabled:hover:scale-100 disabled:hover:shadow-none" disabled>
        ‡∏ï‡∏£‡∏ß‡∏à‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö
      </button>
      <button id="next-btn" class="bg-gray-500 text-white font-bold py-2 px-6 rounded-lg hover:bg-gray-600 transition-all ml-4 hidden hover:shadow-lg hover:-translate-y-0.5">
        ‡πÑ‡∏õ‡∏ö‡∏ó‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ñ‡∏±‡∏î‡πÑ‡∏õ ‚Üí
      </button>
    </div>
  </div>
</footer>

<script>
  // 1. YouTube API Setup
  var tag = document.createElement('script');
  tag.src = "https://www.youtube.com/iframe_api";
  var firstScriptTag = document.getElementsByTagName('script')[0];
  firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

  var player;
  var progressInterval;

  // UI Elements
  const submitBtn = document.getElementById('submit-btn');
  const nextBtn = document.getElementById('next-btn');
  const videoStatus = document.getElementById('video-status');
  const submitStatus = document.getElementById('submit-status');
  const progressBar = document.getElementById('progress-bar');
  const teacherFeedback = document.getElementById('teacher-feedback');
  const teacherMessage = document.getElementById('teacher-message');
  const teacherBubble = document.getElementById('teacher-bubble');
  const teacherBubbleTail = document.getElementById('teacher-bubble-tail');

  let videoWatched = false;

  function onYouTubeIframeAPIReady() {
    player = new YT.Player('player', {
      height: '100%',
      width: '100%',
      videoId: '-OAXC-YygoM', // Video ID ‡∏ö‡∏ó‡∏ó‡∏µ‡πà 3
      playerVars: { 'playsinline': 1, 'modestbranding': 1, 'rel': 0 },
      events: { 'onStateChange': onPlayerStateChange }
    });
  }

  function onPlayerStateChange(event) {
    if (event.data == YT.PlayerState.PLAYING) {
      videoStatus.innerHTML = "‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞: ‚ñ∂Ô∏è ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô...";
      progressInterval = setInterval(() => {
        if(player) {
          var percentage = (player.getCurrentTime() / player.getDuration()) * 100;
          progressBar.style.width = percentage + '%';
        }
      }, 1000);
    } else {
      clearInterval(progressInterval);
    }

    if (event.data == YT.PlayerState.ENDED) {
      videoStatus.innerHTML = "‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞: ‚úÖ ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏à‡∏ö‡πÅ‡∏•‡πâ‡∏ß!";
      videoStatus.classList.add('text-green-600', 'font-semibold');
      progressBar.style.width = '100%';
      // Pulse animation
      progressBar.classList.add('animate-pulse');
      setTimeout(() => { progressBar.classList.remove('animate-pulse'); }, 1000);

      videoWatched = true;
      checkEnableSubmit();
    }
  }

  function checkEnableSubmit() {
    if (videoWatched) {
      submitBtn.disabled = false;
      submitStatus.innerHTML = "‚úÖ ‡∏î‡∏π‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠‡∏à‡∏ö‡πÅ‡∏•‡πâ‡∏ß! <strong>‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ï‡∏£‡∏ß‡∏à‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö</strong>";
      submitStatus.classList.add('text-green-600');
      // Bounce animation
      submitBtn.classList.add('animate-bounce');
      setTimeout(() => { submitBtn.classList.remove('animate-bounce'); }, 1000);
    }
  }

  // Confetti Function
  function fireConfetti() {
    var count = 200;
    var defaults = { origin: { y: 0.7 }, zIndex: 9999 };

    function fire(particleRatio, opts) {
      confetti(Object.assign({}, defaults, opts, {
        particleCount: Math.floor(count * particleRatio)
      }));
    }

    fire(0.25, { spread: 26, startVelocity: 55, });
    fire(0.2, { spread: 60, });
    fire(0.35, { spread: 100, decay: 0.91, scalar: 0.8 });
    fire(0.1, { spread: 120, startVelocity: 25, decay: 0.92, scalar: 1.2 });
    fire(0.1, { spread: 120, startVelocity: 45, });
  }

  // Submit Logic
  submitBtn.addEventListener('click', function() {
    let score = 0;

    // Helper Function ‡∏ï‡∏£‡∏ß‡∏à‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö
    const check = (id, keywords) => {
      let val = document.getElementById(id).value.toLowerCase().trim();
      let isCorrect = keywords.some(k => val.includes(k));
      let feedbackEl = document.getElementById(id + '-feedback');

      if (isCorrect) {
        score++;
        feedbackEl.textContent = "‚úÖ ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á!";
        feedbackEl.className = "text-sm mt-1 text-green-600 font-bold";
      } else {
        feedbackEl.textContent = "‚ùå ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏Ñ‡∏£‡∏±‡∏ö";
        feedbackEl.className = "text-sm mt-1 text-red-600";
      }
    };

    // ‡∏ï‡∏£‡∏ß‡∏à‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡∏ï‡∏≤‡∏°‡πÇ‡∏à‡∏ó‡∏¢‡πå Module 3
    check('q1', ["3"]);
    check('q2', ["1"]);
    check('q3', ["‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡πÉ‡∏´‡∏°‡πà", "new line", "‡∏Ç‡∏∂‡πâ‡∏ô‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡πÉ‡∏´‡∏°‡πà"]);
    check('q4', ["int", "‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏ï‡πá‡∏°"]);

    // Show Feedback with Animation
    teacherFeedback.classList.remove('hidden', 'translate-y-4', 'opacity-0');

    if (score === 4) {
      // ‡∏ï‡∏≠‡∏ö‡∏ñ‡∏π‡∏Å‡∏´‡∏°‡∏î -> ‡∏¢‡∏¥‡∏á‡∏û‡∏•‡∏∏!
      fireConfetti();
      teacherMessage.innerHTML = "üéâ <strong>‡∏™‡∏∏‡∏î‡∏¢‡∏≠‡∏î‡πÑ‡∏õ‡πÄ‡∏•‡∏¢!</strong><br>‡∏Ñ‡∏∏‡∏ì‡∏à‡∏≥‡∏™‡∏±‡∏ç‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡πÜ ‡πÑ‡∏î‡πâ‡∏´‡∏°‡∏î‡πÄ‡∏•‡∏¢ (‡πÑ‡∏î‡πâ 4/4) ‡πÄ‡∏Å‡πà‡∏á‡∏°‡∏≤‡∏Å‡∏Ñ‡∏£‡∏±‡∏ö ‡πÑ‡∏õ‡∏ö‡∏ó‡∏ï‡πà‡∏≠‡πÑ‡∏õ‡∏Å‡∏±‡∏ô!";
      teacherBubble.className = "relative bg-green-100 border border-green-300 p-4 rounded-xl shadow-sm mt-4 w-full";
      teacherBubbleTail.className = "absolute left-0 top-1/2 -translate-x-full -translate-y-1/2 w-0 h-0 border-t-[10px] border-t-transparent border-r-[12px] border-r-green-100 border-b-[10px] border-b-transparent";

      submitStatus.textContent = "üéâ ‡∏ú‡πà‡∏≤‡∏ô‡πÅ‡∏•‡πâ‡∏ß! ‡πÑ‡∏õ‡∏ö‡∏ó‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ï‡πà‡∏≠‡πÑ‡∏õ‡πÑ‡∏î‡πâ";
      submitBtn.disabled = true;
      submitBtn.textContent = "‡∏ú‡πà‡∏≤‡∏ô‡πÅ‡∏•‡πâ‡∏ß";
      submitBtn.classList.replace('bg-blue-600', 'bg-green-600');
      submitBtn.classList.add('cursor-not-allowed');

      nextBtn.classList.remove('hidden');
      nextBtn.classList.add('animate-bounce');
      setTimeout(() => { nextBtn.classList.remove('animate-bounce'); }, 2000);

    } else {
      // ‡∏ï‡∏≠‡∏ö‡∏ú‡∏¥‡∏î‡∏ö‡∏≤‡∏á‡∏Ç‡πâ‡∏≠
      teacherMessage.innerHTML = `<strong>‡πÄ‡∏Å‡∏∑‡∏≠‡∏ö‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡∏£‡∏±‡∏ö!</strong><br>‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏≥‡πÑ‡∏î‡πâ ${score} ‡πÄ‡∏ï‡πá‡∏° 4 ‡∏Ç‡πâ‡∏≠ ‡∏•‡∏≠‡∏á‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ç‡πâ‡∏≠‡∏ó‡∏µ‡πà‡∏ú‡∏¥‡∏î (‡∏ó‡∏µ‡πà‡∏°‡∏µ ‚ùå) ‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡∏î‡∏ï‡∏£‡∏ß‡∏à‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ô‡∏∞‡∏Ñ‡∏£‡∏±‡∏ö`;
      teacherBubble.className = "relative bg-red-100 border border-red-300 p-4 rounded-xl shadow-sm mt-4 w-full";
      teacherBubbleTail.className = "absolute left-0 top-1/2 -translate-x-full -translate-y-1/2 w-0 h-0 border-t-[10px] border-t-transparent border-r-[12px] border-r-red-100 border-b-[10px] border-b-transparent";

      submitStatus.textContent = "‡∏•‡∏≠‡∏á‡∏ï‡∏£‡∏ß‡∏à‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á";
    }
  });

  nextBtn.addEventListener('click', function() {
    window.location.href = 'module_4.html';
  });

</script>
</body>
</html>
